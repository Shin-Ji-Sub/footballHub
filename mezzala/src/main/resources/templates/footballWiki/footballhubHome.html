<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="/footballWiki.css">
    <title>FootballHub</title>
</head>
<body>
    <div th:replace="~{/modules/header}"></div>
    <input id="socialMethod" type="hidden" th:if="${session.user != null}" th:value="${session.user.socialMethod}">

    <main>
        <div class="main-container">
            <div class="container section content-container">
                <h4>안내사항</h4>
                <ul class="announce-container">
                    <li>축구에 관한 재미난 정보가 있는, 여러분들이 만들어 나가는 FootballWiki 입니다.</li>
                    <li>FootballWiki의 정보 중 정확하지 않은 정보가 있을 수 있습니다.</li>
                </ul>
            </div>
            <div class="container section content-container">
                <!-- 검색 Section : 검색창 있어야되고, 카테고리로 선택할 수 있어야하고. -->
                <h4>검색</h4>
                <div class="search-wiki-container">
                    <input type="text" class="form-control" placeholder="검색어">
                    <div class="input-group">
                        <input readonly type="text" class="form-control" value="카테고리">
                        <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                            <i class="bi bi-search"></i>
                        </button>
                    </div>
                    <button class="search-write-button">검색</button>
                </div>
            </div>
            <div class="container section content-container">
                <div class="row wiki-content">
                    <div class="col">
                        <div>
                            3500년 전 이집트 파라오 무덤 찾았다…투탕카멘 이후 100년만
                        </div>
                    </div>
                    <div class="col-2 span-container">
                        <span class="content-category">category</span>
                    </div>
                    <div class="col-2 span-container">
                        <span>23시간 전</span>
                    </div>
                </div>
                <div class="row wiki-content">
                    <div class="col">
                        <div>
                            3500년 전 이집트 파라오 무덤 찾았다…투탕카멘 이후 100년만
                        </div>
                    </div>
                    <div class="col-2 span-container">
                        <span class="content-category">category</span>
                    </div>
                    <div class="col-2 span-container">
                        <span>23시간 전</span>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">WiKi 카테고리</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h2 class="fs-5">카테고리 검색</h2>
                    <input type="text" class="wiki-category-search" id="wikiCategorySearchValue">
                    <hr>
                    <h2 class="fs-5">카테고리</h2>
                    <p class="category-item-container">
                        <span class="btn btn-outline-primary category-item">전체</span>
                        <span class="btn btn-outline-primary category-item">맨유</span>
                        <span class="btn btn-outline-primary category-item">리버풀</span>
                        <span class="btn btn-outline-primary category-item">아스널</span>
                        <span class="btn btn-outline-primary category-item">맨시티</span>
                        <span class="btn btn-outline-primary category-item">첼시</span>
                        <span class="btn btn-outline-primary category-item">토트넘</span>
                        <span class="btn btn-outline-primary category-item">바이에른 뮌헨</span>
                        <span class="btn btn-outline-primary category-item">도르트문트</span>
                        <span class="btn btn-outline-primary category-item">전체</span>
                        <span class="btn btn-outline-primary category-item">맨유</span>
                        <span class="btn btn-outline-primary category-item">리버풀</span>
                        <span class="btn btn-outline-primary category-item">아스널</span>
                        <span class="btn btn-outline-primary category-item">맨시티</span>
                        <span class="btn btn-outline-primary category-item">첼시</span>
                        <span class="btn btn-outline-primary category-item">토트넘</span>
                        <span class="btn btn-outline-primary category-item">바이에른 뮌헨</span>
                        <span class="btn btn-outline-primary category-item">도르트문트</span>
                        <span class="btn btn-outline-primary category-item">전체</span>
                        <span class="btn btn-outline-primary category-item">맨유</span>
                        <span class="btn btn-outline-primary category-item">리버풀</span>
                        <span class="btn btn-outline-primary category-item">아스널</span>
                        <span class="btn btn-outline-primary category-item">맨시티</span>
                        <span class="btn btn-outline-primary category-item">첼시</span>
                        <span class="btn btn-outline-primary category-item">토트넘</span>
                        <span class="btn btn-outline-primary category-item">바이에른 뮌헨</span>
                        <span class="btn btn-outline-primary category-item">도르트문트</span>
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script type="text/javascript" th:inline="javascript">
        $(window).on('load', function() {
            const wikiCategorySearchValue = $('#wikiCategorySearchValue');
            const categoryItem = $('.category-item');

            // 현재 page nav에 표시
            const locationCategories = $('.location-category');
            locationCategories.eq(2).addClass('active');
            locationCategories.eq(2).addClass('text-primary');

            wikiCategorySearchValue.on('input', (e) => {
                const keyword = $(e.currentTarget).val().trim();

                $('.category-item').each(function() {
                    const text = $(this).text();
                    if (text.includes(keyword)) {
                        $(this).show();
                    } else {
                        $(this).hide();
                    }
                });
            });

            categoryItem.on('click', function() {
                const modalEl = $('.modal');
                const modal = bootstrap.Modal.getInstance(modalEl);
                modal.hide();
            });
        });
    </script>
</body>
</html>